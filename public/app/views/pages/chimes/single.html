<!-- <div class="page-header">
	<h1 ng-if="chime.type == 'create'">Create Chime</h1>
	<h1 ng-if="chime.type == 'edit'">Edit Chime</h1>
</div> -->

<div class="panel panel-default">
  <div class="panel-heading">
		<div ng-hide="chime.selectedTrack">
			<div class="col-xs-3">
				<div class="btn-group" uib-dropdown is-open="status.isopen">
		      <button type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="disabled">
		        <h4><i class="fa fa-lg" ng-class="chime.currentMusicProvider.icon"></i> {{chime.currentMusicProvider.name}} <span class="caret"></h4></span>
		      </button>
		      <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
						<li ng-click="chime.setMusicProvider(provider)" ng-repeat="provider in chime.musicProviders | filter: filterByName(chime.currentMusicProvider.name)" role="menuitem">
							<a href="#">{{provider.name}}</a>
						</li>
		      </ul>
		    </div>
			</div>
			<div class="col-xs-6 text-center">
				<h1>Select Song</h1>
			</div>
		</div>

		<div ng-show="chime.selectedTrack">
			<div class="col-xs-3">
				<button ng-click="chime.clearSelectedTrack()" type="button" class="btn btn-default">
					<h4><i class="fa fa-lg fa-arrow-left"></i> Back</h4>
				</button>
			</div>
			<div class="col-xs-6 text-center">
				<h1>Create Chime</h1>
			</div>
		</div>
  </div>

	<div class="panel-body">
		<div ng-hide="chime.selectedTrack">
			<sound-cloud-song-search ng-if="chime.currentMusicProvider.value == 'soundCloud'" chime="chime"></sound-cloud-song-search>
			<spotify-song-search ng-if="chime.currentMusicProvider.value == 'spotify'" chime="chime"></spotify-song-search>
		</div>
		<div ng-show="chime.selectedTrack">
			<div class="row">
				<div class="col-xs-4">
					<div class="img-responsive center-block">
						<img width="250px" class="margin-left-20" src="{{chime.selectedTrack.artwork_url || chime.selectedTrack.user.avatar_url}}">
					</div>
				</div>
				<div class="col-xs-8">
					<form class="form-horizontal">
						<label class="col-xs-2 control-label">Title: </label>
						<label class="col-xs-10 control-description">
							<p ng-bind="chime.selectedTrack.title"></p>
						</label>
						<label class="col-xs-2 control-label">Description: </label>
						<label class="col-xs-10 control-description">
							<p class="truncate-with-ellipsis" ng-bind="chime.selectedTrack.description"></p>
						</label>
						<label class="col-xs-2 control-label">Genre: </label>
						<label class="col-xs-10 control-description">
							<p ng-bind="chime.selectedTrack.genre"></p>
						</label>
						<label class="col-xs-2 control-label">Label: </label>
						<label class="col-xs-10 control-description">
							<p ng-bind="chime.selectedTrack.label_name"></p>
						</label>
						<div class="form-group">
							<label for="inputPassword3" class="col-sm-2 control-label">Tags: </label>
							<div class="col-sm-10">
								<input type="text" class="form-control" ng-model="chime.selectedTrack.tags" placeholder="Tags">
							</div>
						</div>
					</form>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-12">
					<div ng-if="chime.startTimeSet" class="selectable-waveform-overlay" ng-style="{'left': chime.leftOffset + 15, 'width': chime.chimeWidth}"></div>
					<img class="selectable-waveform" src="{{chime.selectedTrack.waveform_url}}">
					<div id="slider-container">
						<input class="start-slider" ng-model="chime.startTime" type="range" min="0" max="{{chime.selectedTrack.duration}}">
						<input class="end-slider" ng-style="{'left': chime.leftOffset, 'width': chime.widthOffset}" ng-if="chime.startTimeSet" ng-model="chime.endTime" type="range" min="{{chime.startTime}}" max="{{chime.selectedTrack.duration}}">
					</div>
				</div>
				<div class="col-xs-12">
					<div class="input-group">
						<p>Start Time: {{chime.startTime + ' ms'}}</p>
					  <span class="input-group-btn">
			      	<button type="button" ng-hide="chime.startTimeSet" ng-click="chime.setStartTime()" class="btn btn-primary btn-xs pull-left">Set Start Time</button>
							<button type="button" ng-show="chime.startTimeSet" ng-click="chime.clearStartTime()" class="btn btn-warning btn-xs">Clear Start Time</button>
					  </span>
					</div>
					<div ng-if="chime.startTimeSet" class="input-group">
					  <p>End Time: {{chime.endTime + ' ms'}}</p>
						<span class="input-group-btn">
 							<button type="button" ng-hide="chime.endTimeSet" ng-click="chime.setEndTime()" class="btn btn-primary btn-xs">Set End Time</button>
							<button type="button" ng-show="chime.endTimeSet" ng-click="chime.clearEndTime()" class="btn btn-warning btn-xs">Clear End Time</button>
 					  </span>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="panel-footer">
	  <div ng-bind-html="chime.soundCloudWidget"></div >
	</div>
</div>
<!--
<div class="jumbotron text-center">
	<button ng-click="chime.authenticateSoundCloud()" class="btn btn-success btn-lg btn-block">
		Click here to authenticate SoundCloud!
	</button>
	<form class="form-horizontal" ng-submit="chime.getTrack(chime.chimeData.trackId)">

		<div class="form-group">
			<label class="col-sm-2 control-label">Get Chime Track</label>
			<div class="col-sm-6">
				<input type="text" class="form-control" ng-model="chime.chimeData.trackId">
			</div>
			<button type="submit" class="btn btn-success btn-lg btn-block">Search</button>
		</div>

		<div class="form-group">
			<label class="col-sm-2 control-label">Search Tracks</label>
			<div class="col-sm-6">
				<input type="text" class="form-control" ng-model="chime.chimeData.trackSearch">
			</div>
			<button ng-click="chime.searchTracks(chime.chimeData.trackSearch)" class="btn btn-success btn-lg btn-block">Search</button>
		</div>
	</form>
</div>

<div class="jumbotron text-center">
	<form class="form-horizontal" ng-submit="chime.saveChime()">
		<div class="form-group">
			<label class="col-sm-2 control-label">Title</label>
			<div class="col-sm-6">
				<input type="text" class="form-control" ng-model="chime.soundCloud.track.title">
			</div>
			<div class="col-sm-4">
				<img type="text" src="{{chime.soundCloud.track.user.avatar_url}}">
			</div>
		</div>

		<div class="form-group">
			<label class="col-sm-2 control-label">Artist</label>
			<div class="col-sm-6">
				<input type="text" class="form-control" ng-model="chime.soundCloud.track.user.username">
			</div>
		</div>

		<div class="form-group">
			<label class="col-sm-2 control-label">Waveform</label>
			<div ng-if="chime.soundCloud.track.waveform_url" class="col-sm-10">
				<img class="waveform" src="{{chime.soundCloud.track.waveform_url}}">
			</div>
		</div>

		<div class="form-group">
		<div class="col-sm-offset-2 col-sm-6">
			<button type="submit" class="btn btn-success btn-lg btn-block" ng-if="chime.type == 'create'">Create Chime</button>
			<button type="submit" class="btn btn-success btn-lg btn-block" ng-if="chime.type == 'edit'">Update Chime</button>
		</div>
		</div>
	</form>

	<div class="row show-hide-message" ng-show="chime.message">
		<div class="col-sm-6 col-sm-offset-2">
			<div class="alert alert-info">
				{{ chime.message }}
			</div>
		</div>
	</div>
</div> -->
